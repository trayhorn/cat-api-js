{"version":3,"file":"cat-search.js","sources":["../src/js/cat-search.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './api';\nimport Swal from 'sweetalert2';\n\nconst selectEl = document.querySelector('.breed-form_select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\n\nloader.classList.remove('is-hidden');\n\nfetchBreeds()\n  .then(({ data }) => renderSelectOptions(data))\n  .catch(e => {\n    Swal.fire({\n      title: 'Error!',\n      text: e.message,\n      icon: 'error',\n      confirmButtonText: 'Ok',\n    });\n  })\n  .finally(() => {\n    loader.classList.add('is-hidden');\n    selectEl.classList.remove('is-hidden');\n  })\n\nselectEl.addEventListener('change', (e) => {\n  catInfo.innerHTML = ``;\n  loader.classList.remove('is-hidden');\n  const breedId = e.target.value;\n\n  fetchCatByBreed(breedId)\n    .then(({ data }) => {\n      loader.classList.add('is-hidden');\n      renderCatInfo(data[0]);\n    })\n    .catch(e => {\n      Swal.fire({\n        title: 'Error!',\n        text: e.message,\n        icon: 'error',\n        confirmButtonText: 'Ok',\n      });\n    });\n})\n\nfunction renderSelectOptions(arr) {\n  const markup = arr.map(({ id, name }) =>\n    `<option value=\"${id}\">${name}</option>`\n  ).join('');\n  \n  selectEl.innerHTML = markup;\n}\n\nfunction renderCatInfo(object) {\n  const { temperament, name, description } = object.breeds[0];\n\n  const markup = `\n        <div>\n          <img class=\"cat-info_image\" src=\"${object.url}\" alt=\"\">\n        </div>\n        <div>\n          <h2 class=\"cat-info_name\">${name}</h2>\n          <p class=\"cat-info_temper\">${temperament}</p>\n          <p class=\"cat-info_description\">${description}</p>\n        </div>\n      `;\n\n  catInfo.innerHTML = markup;\n}\n\n\n\n\n\n\n"],"names":["selectEl","catInfo","loader","fetchBreeds","data","renderSelectOptions","Swal","breedId","fetchCatByBreed","renderCatInfo","e","arr","markup","id","name","object","temperament","description"],"mappings":"oGAGA,MAAMA,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,UAAU,OAAO,WAAW,EAEnCC,EAAa,EACV,KAAK,CAAC,CAAE,KAAAC,CAAM,IAAKC,EAAoBD,CAAI,CAAC,EAC5C,MAAM,GAAK,CACVE,EAAK,KAAK,CACR,MAAO,SACP,KAAM,EAAE,QACR,KAAM,QACN,kBAAmB,IACzB,CAAK,CACL,CAAG,EACA,QAAQ,IAAM,CACbJ,EAAO,UAAU,IAAI,WAAW,EAChCF,EAAS,UAAU,OAAO,WAAW,CACzC,CAAG,EAEHA,EAAS,iBAAiB,SAAW,GAAM,CACzCC,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,WAAW,EACnC,MAAMK,EAAU,EAAE,OAAO,MAEzBC,EAAgBD,CAAO,EACpB,KAAK,CAAC,CAAE,KAAAH,KAAW,CAClBF,EAAO,UAAU,IAAI,WAAW,EAChCO,EAAcL,EAAK,CAAC,CAAC,CAC3B,CAAK,EACA,MAAMM,GAAK,CACVJ,EAAK,KAAK,CACR,MAAO,SACP,KAAMI,EAAE,QACR,KAAM,QACN,kBAAmB,IAC3B,CAAO,CACP,CAAK,CACL,CAAC,EAED,SAASL,EAAoBM,EAAK,CAChC,MAAMC,EAASD,EAAI,IAAI,CAAC,CAAE,GAAAE,EAAI,KAAAC,CAAM,IAClC,kBAAkBD,CAAE,KAAKC,CAAI,WACjC,EAAI,KAAK,EAAE,EAETd,EAAS,UAAYY,CACvB,CAEA,SAASH,EAAcM,EAAQ,CAC7B,KAAM,CAAE,YAAAC,EAAa,KAAAF,EAAM,YAAAG,CAAa,EAAGF,EAAO,OAAO,CAAC,EAEpDH,EAAS;AAAA;AAAA,6CAE4BG,EAAO,GAAG;AAAA;AAAA;AAAA,sCAGjBD,CAAI;AAAA,uCACHE,CAAW;AAAA,4CACNC,CAAW;AAAA;AAAA,QAIrDhB,EAAQ,UAAYW,CACtB"}